# ROAS Bot v2.4.3 éƒ¨ç½²å’Œç®¡ç†æŒ‡å—

æœ¬æŒ‡å—ä»‹ç´¹å¦‚ä½•ä½¿ç”¨æ™ºèƒ½åŒ–çš„éƒ¨ç½²è…³æœ¬å’Œæœå‹™ç®¡ç†å·¥å…·ä¾†é‹è¡Œ ROAS Botã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ä½¿ç”¨æ™ºèƒ½å•Ÿå‹•è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

```bash
# åŸºæœ¬å•Ÿå‹•
./scripts/quick_start.sh

# é–‹ç™¼ç’°å¢ƒè©³ç´°å•Ÿå‹•
./scripts/quick_start.sh --environment dev --verbose

# ç”Ÿç”¢ç’°å¢ƒå¼·åˆ¶å•Ÿå‹•
./scripts/quick_start.sh --environment prod --force

# æ¨¡æ“¬é‹è¡Œï¼ˆä¸å¯¦éš›éƒ¨ç½²ï¼‰
./scripts/quick_start.sh --dry-run --verbose
```

### ä½¿ç”¨ Python æ™ºèƒ½éƒ¨ç½²ç³»çµ±

```bash
# å®Œæ•´æ™ºèƒ½éƒ¨ç½²
python3 scripts/smart_deployment.py --environment dev --verbose

# æ¨¡æ“¬éƒ¨ç½²
python3 scripts/smart_deployment.py --dry-run --verbose

# ç”Ÿç”¢ç’°å¢ƒå¼·åˆ¶éƒ¨ç½²
python3 scripts/smart_deployment.py --environment prod --force
```

## ğŸ› ï¸ éƒ¨ç½²å·¥å…·èªªæ˜

### 1. æ™ºèƒ½å•Ÿå‹•è…³æœ¬ (`scripts/quick_start.sh`)

é€™æ˜¯ä¸€å€‹ Bash è…³æœ¬ï¼Œæä¾›æœ€ç°¡å–®çš„å•Ÿå‹•æ–¹å¼ï¼š

**åŠŸèƒ½ç‰¹é»ï¼š**
- ç’°å¢ƒæª¢æŸ¥å’Œé é£›è¡Œæª¢æŸ¥
- æ™ºèƒ½æœå‹™æº–å‚™å’Œæ˜ åƒç®¡ç†
- å¥åº·æª¢æŸ¥å’Œç‹€æ…‹ç›£æ§
- å½©è‰²è¼¸å‡ºå’Œè©³ç´°æ—¥èªŒ
- æ”¯æ´å¤šç¨®å•Ÿå‹•æ¨¡å¼

**ä½¿ç”¨ç¯„ä¾‹ï¼š**
```bash
# é–‹ç™¼ç’°å¢ƒå¿«é€Ÿå•Ÿå‹•
./scripts/quick_start.sh --quick

# æ¸…ç†å¾Œé‡æ–°å•Ÿå‹•
./scripts/quick_start.sh --clean

# é‡å•Ÿç¾æœ‰æœå‹™
./scripts/quick_start.sh --restart

# ä½¿ç”¨ Python æ™ºèƒ½ç³»çµ±
./scripts/quick_start.sh --use-python
```

### 2. Python æ™ºèƒ½éƒ¨ç½²ç³»çµ± (`scripts/smart_deployment.py`)

é€™æ˜¯ä¸€å€‹å®Œæ•´çš„æ™ºèƒ½éƒ¨ç½²ç³»çµ±ï¼Œæ•´åˆäº†æ‰€æœ‰é–‹ç™¼çš„çµ„ä»¶ï¼š

**6å€‹éƒ¨ç½²éšæ®µï¼š**
1. **é æª¢æŸ¥** - ç’°å¢ƒé©—è­‰ã€ç£ç›¤ç©ºé–“ã€Docker ç‹€æ…‹
2. **æº–å‚™** - æ¸…ç†å®¹å™¨ã€æº–å‚™æ˜ åƒã€è¨­ç½®ç¶²è·¯
3. **æœå‹™å•Ÿå‹•** - æ™ºèƒ½æœå‹™ç·¨æ’å’Œä¾è³´ç®¡ç†
4. **å¥åº·é©—è­‰** - ç¶œåˆå¥åº·æª¢æŸ¥å’Œç‹€æ…‹é©—è­‰
5. **ç›£æ§è¨­ç½®** - å•Ÿå‹•ç›£æ§ç³»çµ±å’ŒæŒ‡æ¨™æ”¶é›†
6. **éƒ¨ç½²å¾Œè™•ç†** - æ•´åˆå”èª¿å’Œæ¸¬è©¦é©—è­‰

**ä½¿ç”¨ç¯„ä¾‹ï¼š**
```bash
# é–‹ç™¼ç’°å¢ƒå®Œæ•´éƒ¨ç½²
python3 scripts/smart_deployment.py --environment dev

# ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
python3 scripts/smart_deployment.py --environment prod --verbose

# æ¨¡æ“¬éƒ¨ç½²ï¼ˆæŸ¥çœ‹æœƒåŸ·è¡Œä»€éº¼ï¼‰
python3 scripts/smart_deployment.py --dry-run

# å¼·åˆ¶éƒ¨ç½²ï¼ˆå¿½ç•¥æª¢æŸ¥å¤±æ•—ï¼‰
python3 scripts/smart_deployment.py --force
```

## ğŸ”§ æœå‹™ç®¡ç†å·¥å…·

### æœå‹™ç®¡ç†å™¨ (`scripts/service_manager.py`)

æä¾›å®Œæ•´çš„æœå‹™ç”Ÿå‘½é€±æœŸç®¡ç†ï¼š

```bash
# å•Ÿå‹•æœå‹™
python3 scripts/service_manager.py start --environment dev

# åœæ­¢æœå‹™
python3 scripts/service_manager.py stop

# é‡å•Ÿæœå‹™
python3 scripts/service_manager.py restart

# æª¢æŸ¥ç‹€æ…‹
python3 scripts/service_manager.py status --verbose

# å¥åº·æª¢æŸ¥
python3 scripts/service_manager.py health

# æŸ¥çœ‹æ—¥èªŒ
python3 scripts/service_manager.py logs --lines 50

# è·Ÿéš¨æ—¥èªŒè¼¸å‡º
python3 scripts/service_manager.py logs --follow

# å•Ÿå‹•ç›£æ§ï¼ˆ5åˆ†é˜ï¼‰
python3 scripts/service_manager.py monitor --duration 300

# æ¸…ç†æœå‹™
python3 scripts/service_manager.py clean

# å‚™ä»½æ•¸æ“š
python3 scripts/service_manager.py backup

# æ¢å¾©æ•¸æ“š
python3 scripts/service_manager.py restore --backup-path ./backups/backup-20241201-120000
```

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### æ•´åˆçµ„ä»¶æ¶æ§‹

```
æ™ºèƒ½éƒ¨ç½²ç³»çµ±
â”œâ”€â”€ æœå‹™æ•´åˆå”èª¿å™¨ (ServiceIntegrationCoordinator)
â”‚   â”œâ”€â”€ 6éšæ®µæ•´åˆæµç¨‹
â”‚   â”œâ”€â”€ æœå‹™ä¾è³´ç®¡ç†
â”‚   â””â”€â”€ æ•´åˆç›£æ§
â”œâ”€â”€ APIå¥‘ç´„ç³»çµ± (APIContracts)
â”‚   â”œâ”€â”€ Discord Bot å¥‘ç´„
â”‚   â”œâ”€â”€ Redis å¥‘ç´„
â”‚   â”œâ”€â”€ Prometheus å¥‘ç´„
â”‚   â””â”€â”€ Grafana å¥‘ç´„
â”œâ”€â”€ æœå‹™å•Ÿå‹•ç·¨æ’å™¨ (ServiceStartupOrchestrator)
â”‚   â”œâ”€â”€ æ‹“æ’²æ’åºä¾è³´è§£æ
â”‚   â”œâ”€â”€ æ™ºèƒ½é‡è©¦æ©Ÿåˆ¶
â”‚   â””â”€â”€ å¥åº·é©—è­‰
â”œâ”€â”€ çµ±ä¸€å¥åº·æª¢æŸ¥å™¨ (UnifiedHealthChecker)
â”‚   â”œâ”€â”€ HTTP å¥åº·æª¢æŸ¥
â”‚   â”œâ”€â”€ Redis é€£æ¥æª¢æŸ¥
â”‚   â”œâ”€â”€ TCP ç«¯å£æª¢æŸ¥
â”‚   â””â”€â”€ å‘½ä»¤åŸ·è¡Œæª¢æŸ¥
â”œâ”€â”€ çµ±ä¸€æ—¥èªŒç³»çµ± (UnifiedLogging)
â”‚   â”œâ”€â”€ çµæ§‹åŒ–æ—¥èªŒè¨˜éŒ„
â”‚   â”œâ”€â”€ åˆ†æ•£å¼è¿½è¹¤
â”‚   â”œâ”€â”€ éŒ¯èª¤èšåˆåˆ†æ
â”‚   â””â”€â”€ å¤šç·šç¨‹æ—¥èªŒè™•ç†
â””â”€â”€ æ•´åˆæ¸¬è©¦å¥—ä»¶ (IntegrationTestSuite)
    â”œâ”€â”€ ç’°å¢ƒé©—è­‰æ¸¬è©¦
    â”œâ”€â”€ APIå¥‘ç´„æ¸¬è©¦
    â”œâ”€â”€ æœå‹™ç·¨æ’æ¸¬è©¦
    â”œâ”€â”€ å¥åº·æª¢æŸ¥æ¸¬è©¦
    â”œâ”€â”€ æ—¥èªŒæ•´åˆæ¸¬è©¦
    â”œâ”€â”€ ç«¯åˆ°ç«¯æ¸¬è©¦
    â”œâ”€â”€ éŒ¯èª¤æ¢å¾©æ¸¬è©¦
    â””â”€â”€ æ€§èƒ½åŸºæº–æ¸¬è©¦
```

### æœå‹™ä¾è³´é—œä¿‚

```
å•Ÿå‹•é †åºï¼š
1. Redis (åŸºç¤æ•¸æ“šæœå‹™)
2. Prometheus (ç›£æ§æ”¶é›†)
3. Discord Bot (ä¸»è¦æ‡‰ç”¨)
4. Grafana (ç›£æ§å„€è¡¨æ¿)
```

## ğŸ“Š ç›£æ§å’Œæ—¥èªŒ

### å¥åº·æª¢æŸ¥ç«¯é»

- **Discord Bot**: `http://localhost:8000/health`
- **Redis**: TCP é€£æ¥æ¸¬è©¦åˆ° `localhost:6379`
- **Prometheus**: `http://localhost:9090/-/healthy`
- **Grafana**: `http://localhost:3000/api/health`

### æ—¥èªŒæ–‡ä»¶ä½ç½®

- **çµ±ä¸€æ—¥èªŒ**: `logs/unified-integration.jsonl`
- **æœå‹™æ—¥èªŒ**: `logs/{service-name}-integration.log`
- **éƒ¨ç½²å ±å‘Š**: `logs/deployment-report-{timestamp}.json`
- **æ¸¬è©¦å ±å‘Š**: `logs/integration-test-report-{timestamp}.json`

### ç›£æ§æŒ‡æ¨™

- ç³»çµ±è³‡æºä½¿ç”¨ç‡ (CPU, è¨˜æ†¶é«”, ç£ç›¤)
- æœå‹™å¥åº·ç‹€æ…‹å’ŒéŸ¿æ‡‰æ™‚é–“
- Docker å®¹å™¨ç‹€æ…‹å’Œè³‡æºæ¶ˆè€—
- éŒ¯èª¤ç‡å’Œæ€§èƒ½æŒ‡æ¨™
- å•Ÿå‹•æ™‚é–“å’Œä¾è³´é—œä¿‚å¥åº·åº¦

## ğŸ³ Docker Compose é…ç½®

### é–‹ç™¼ç’°å¢ƒ (`docker-compose.dev.yml`)

- å„ªåŒ–çš„å¥åº·æª¢æŸ¥é…ç½®
- é©ç•¶çš„è³‡æºé™åˆ¶
- é–‹ç™¼å‹å¥½çš„ç«¯å£æ˜ å°„
- å¿«é€Ÿé‡å»ºå’Œéƒ¨ç½²

### ç”Ÿç”¢ç’°å¢ƒ (`docker-compose.prod.yml`)

- ç”Ÿç”¢ç´šè³‡æºé…ç½®
- å¢å¼·çš„å®‰å…¨è¨­ç½®
- å„ªåŒ–çš„é‡å•Ÿç­–ç•¥
- å®Œæ•´çš„ç›£æ§æ•´åˆ

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **Docker æœå‹™æœªå•Ÿå‹•**
   ```bash
   sudo systemctl start docker
   ```

2. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹å ç”¨ç«¯å£çš„é€²ç¨‹
   lsof -i :8000
   # æˆ–ä½¿ç”¨æ¸…ç†æ¨¡å¼å•Ÿå‹•
   ./scripts/quick_start.sh --clean
   ```

3. **ç£ç›¤ç©ºé–“ä¸è¶³**
   ```bash
   # æ¸…ç† Docker è³‡æº
   docker system prune -af --volumes
   ```

4. **å¥åº·æª¢æŸ¥å¤±æ•—**
   ```bash
   # æŸ¥çœ‹è©³ç´°å¥åº·ç‹€æ…‹
   python3 scripts/service_manager.py health --verbose
   ```

### èª¿è©¦æ¨¡å¼

```bash
# é–‹å•Ÿè©³ç´°è¼¸å‡º
./scripts/quick_start.sh --verbose

# ä½¿ç”¨æ¨¡æ“¬æ¨¡å¼æŸ¥çœ‹æœƒåŸ·è¡Œä»€éº¼
./scripts/quick_start.sh --dry-run --verbose

# æª¢æŸ¥æœå‹™ç‹€æ…‹
python3 scripts/service_manager.py status --verbose
```

## ğŸ§ª æ¸¬è©¦

### é‹è¡Œæ•´åˆæ¸¬è©¦

```bash
# å®Œæ•´æ•´åˆæ¸¬è©¦
python3 core/integration_test_suite.py --environment dev --verbose

# å¿«é€Ÿæ¸¬è©¦
python3 core/integration_test_suite.py --quick

# è¼¸å‡ºè©³ç´°å ±å‘Š
python3 core/integration_test_suite.py --output test-report.json
```

### é‹è¡ŒåŸºç¤è¨­æ–½æ¸¬è©¦

```bash
# åŸºç¤è¨­æ–½æ¨¡çµ„æ¸¬è©¦
python3 tests/infrastructure_integration_test.py --verbose

# ä½¿ç”¨ pytest
pytest tests/test_infrastructure_modules.py -v
```

## ğŸš€ æ€§èƒ½å„ªåŒ–

### å•Ÿå‹•æ™‚é–“å„ªåŒ–

1. **ä½¿ç”¨å¿«é€Ÿæ¨¡å¼**ï¼šè·³ééƒ¨åˆ†æª¢æŸ¥
2. **æ˜ åƒå¿«å–**ï¼šé å…ˆæ‹‰å–å’Œå»ºç½®æ˜ åƒ
3. **ä¸¦è¡Œå•Ÿå‹•**ï¼šæ™ºèƒ½ä¾è³´ç®¡ç†å…è¨±ä¸¦è¡Œè™•ç†
4. **å¥åº·æª¢æŸ¥å„ªåŒ–**ï¼šèª¿æ•´æª¢æŸ¥é–“éš”å’Œè¶…æ™‚

### è³‡æºå„ªåŒ–

1. **è¨˜æ†¶é«”é™åˆ¶**ï¼šæ¯å€‹æœå‹™è¨­ç½®é©ç•¶é™åˆ¶
2. **CPU é…é¡**ï¼šé¿å…è³‡æºç«¶çˆ­
3. **ç£ç›¤æ¸…ç†**ï¼šè‡ªå‹•æ¸…ç†æœªä½¿ç”¨è³‡æº
4. **æ—¥èªŒè¼ªè½‰**ï¼šé˜²æ­¢æ—¥èªŒæ–‡ä»¶éå¤§

## ğŸ“ˆ æœ€ä½³å¯¦è¸

### éƒ¨ç½²æœ€ä½³å¯¦è¸

1. **ç¸½æ˜¯å…ˆé‹è¡Œæ¨¡æ“¬æ¨¡å¼**ï¼š`--dry-run`
2. **ä½¿ç”¨é©ç•¶çš„ç’°å¢ƒ**ï¼šé–‹ç™¼ç”¨ `dev`ï¼Œç”Ÿç”¢ç”¨ `prod`
3. **ç›£æ§éƒ¨ç½²éç¨‹**ï¼šä½¿ç”¨ `--verbose` ç²å–è©³ç´°ä¿¡æ¯
4. **å‚™ä»½é‡è¦æ•¸æ“š**ï¼šéƒ¨ç½²å‰å‚™ä»½é…ç½®å’Œæ•¸æ“š
5. **é©—è­‰å¥åº·ç‹€æ…‹**ï¼šéƒ¨ç½²å¾Œæª¢æŸ¥æœå‹™å¥åº·

### é‹ç¶­æœ€ä½³å¯¦è¸

1. **å®šæœŸå¥åº·æª¢æŸ¥**ï¼šä½¿ç”¨ç›£æ§åŠŸèƒ½
2. **æ—¥èªŒåˆ†æ**ï¼šå®šæœŸæª¢æŸ¥éŒ¯èª¤å’Œæ€§èƒ½å•é¡Œ
3. **è³‡æºç›£æ§**ï¼šç›£æ§ç³»çµ±è³‡æºä½¿ç”¨
4. **å‚™ä»½ç­–ç•¥**ï¼šå®šæœŸå‚™ä»½é…ç½®å’Œæ•¸æ“š
5. **æ¸¬è©¦æ•´åˆ**ï¼šå®šæœŸé‹è¡Œæ•´åˆæ¸¬è©¦

---

## ğŸ† ä½œç‚ºæ•´åˆå°ˆå®¶çš„ç¸½çµ

ä½œç‚º Emmaï¼Œé€™å€‹å®Œæ•´çš„éƒ¨ç½²å’Œç®¡ç†ç³»çµ±é«”ç¾äº†æˆ‘åœ¨å‰å¾Œç«¯æ•´åˆé ˜åŸŸçš„æ ¸å¿ƒç†å¿µï¼š

**å¥‘ç´„é©…å‹•çš„æ¶æ§‹**ï¼šæ¯å€‹æœå‹™éƒ½æœ‰æ˜ç¢ºå®šç¾©çš„ API å¥‘ç´„ï¼Œç¢ºä¿å‰å¾Œç«¯æ¥å£çš„ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚

**æ™ºèƒ½åŒ–ç·¨æ’**ï¼šé€šéæ‹“æ’²æ’åºå’Œä¾è³´åˆ†æï¼Œå¯¦ç¾äº†æœ€å„ªçš„æœå‹™å•Ÿå‹•é †åºï¼Œé¿å…äº†å‚³çµ±çš„ç¡¬ç·¨ç¢¼ä¾è³´å•é¡Œã€‚

**å…¨éˆè·¯ç›£æ§**ï¼šå¾æœå‹™å¥åº·ã€æ€§èƒ½æŒ‡æ¨™åˆ°éŒ¯èª¤èšåˆï¼Œæä¾›äº†å®Œæ•´çš„ç³»çµ±å¯è§€æ¸¬æ€§ã€‚

**å„ªé›…çš„éŒ¯èª¤è™•ç†**ï¼šçµ±ä¸€çš„éŒ¯èª¤è™•ç†å’Œæ¢å¾©æ©Ÿåˆ¶ï¼Œç¢ºä¿ç³»çµ±åœ¨ç•°å¸¸æƒ…æ³ä¸‹çš„ç©©å®šæ€§ã€‚

é€™å¥—ç³»çµ±ä¸åƒ…è§£æ±ºäº† Docker å•Ÿå‹•çš„æŠ€è¡“å•é¡Œï¼Œæ›´å»ºç«‹äº†ä¸€å€‹å¯æ“´å±•ã€å¯ç¶­è­·çš„æœå‹™æ•´åˆå¹³å°ï¼Œç‚º ROAS Bot çš„é•·æœŸç™¼å±•å¥ å®šäº†å …å¯¦çš„åŸºç¤ã€‚